@using Microsoft.Extensions.Options
@using Tolab.Common
@model TolabPortal.DataAccess.Models.SectionResponse
@inject IOptions<ApplicationConfig> options;

@{
    var config = options.Value;

    ViewBag.CurrentPageTitle = "اختر المرحلة";
    var items = new string[] { "الرئيسية", "اختر المرحلة" };
    ViewBag.MenuItems = items;
}
<div class="col-lg-7 mx-auto">
    @if (ViewBag.ErrorMessage != null)
    {
        <div class="alert alert-danger2 alert-dismissible fade show course-alert-info">
            <div class="d-flex align-items-center">
                <i class="la la-info-circle fs-30 mr-2"></i> @ViewBag.ErrorMessage
            </div>
            <button type="button" class="close fs-20 pd-16" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true" class="la la-times"></span>
            </button>
        </div>
    }

    <div class="card card-item">
        <div class="card-body">
            <form class="pt-2" method="post" asp-action="RegisterSection" asp-controller="Interest">
                <p class="mb-4">قم بتخصيص حسابك واختيار اهتمامتك</p>
                <div class="row">
                    @if (Model?.Sections != null)
                    {
                        for (int i = 0; i < Model.Sections.ToList().Count; ++i)
                        {
                            var section = Model.Sections[i];
                            <div class="col-lg-12 responsive-column-half">
                                <div class="custom-control custom-radio mb-3 ml-0 pl-0">
                                    <input type="radio" class="custom-control-input" id="@(section.Id)" name="sectionId" value="@(section.Id)">
                                    <label class="custom-control-label custom--control-label custom--control-label-boxed noshadbord" for="@(section.Id)">
                                        <img src="@config.MediaBaseUrl/ws/Images/SectionImages/@(section.Image)" class="chosimg">
                                        <span class="font-weight-semi-bold text-black d-block"> @(section.NameLT) </span>
                                    </label>
                                    <input asp-for="Sections[i].Id" value="@(section.Id)" hidden />
                                    <input asp-for="Sections[i].Name" value="@(section.Name)" hidden />
                                    <input asp-for="Sections[i].NameLT" value="@(section.NameLT)" hidden />
                                </div>
                            </div>
                        }
                    }
                </div>
                <div class="btn-box align-items-center justify-content-between mt-2 pullone">
                    <button type="submit" class="btn theme-btn ml-3 ">التالي <i class="la la-arrow-right icon ml-1"></i></button>
                </div><!-- end btn-box -->
            </form>
        </div><!-- end card-body -->
    </div><!-- end card -->
</div>